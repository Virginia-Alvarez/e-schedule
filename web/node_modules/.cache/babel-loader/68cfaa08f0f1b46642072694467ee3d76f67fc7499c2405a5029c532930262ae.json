{"ast":null,"code":"import _slicedToArray from\"/Users/vir/proyectos-personales/e-schedule/web/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'../styles/App.scss';import{Routes,Route,useNavigate}from'react-router-dom';import{useState}from'react';import ls from'../services/localstorage';import Login from'./Login';import Landing from'./Landing';import Preview from'./Preview';import Day from'./Day';import Week from'./Week';import Month from'./Month';import Details from'./Details';//services\nimport apiDoctor from'../services/api-doctor';import{getFormatedDate}from'../utils/utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var navigate=useNavigate();// VARIABLES ESTADO\nvar _useState=useState(getFormatedDate()),_useState2=_slicedToArray(_useState,2),date=_useState2[0],setDate=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),doctorId=_useState4[0],setDoctorId=_useState4[1];//login\nvar _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),loginErrorMessage=_useState6[0],setLoginErrorMessage=_useState6[1];//sign up\nvar _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),signUpErrorMessage=_useState8[0],setSignUpErrorMessage=_useState8[1];// USEEFFECT ?\nvar sendLoginToApi=function sendLoginToApi(loginData){setLoginErrorMessage('');var doctor=ls.get('doctor');if(!doctor){apiDoctor.sendLoginToApi(loginData).then(function(response){if(response.success===true){setDoctorId(response);ls.set('doctor',response);navigate('/previews');}else{setLoginErrorMessage(response.errorMessage);}});}else{setDoctorId(doctor.doctorId);navigate('/previews');}};var sendSignupToApi=function sendSignupToApi(signUpData){setLoginErrorMessage('');apiDoctor.sendSingUpToApi(signUpData).then(function(response){if(response.success===true){setDoctorId(response.doctorId);navigate('/previews');}else{setSignUpErrorMessage(response.errorMessage);}});};// FUNCIONES HANDLER\nvar handleDate=function handleDate(value){setDate(value);};var handleAllTreatments=function handleAllTreatments(data){if(data.key==='doctor'){setDoctorId(data.value);}else if(data.key==='date'){setDate(data.value);}};// FUNCIONES Y VARIABLES QUE AYUDEN A RENDERIZAR HTML\n// HTML EN EL RETURN\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{loginErrorMessage:loginErrorMessage,signUpErrorMessage:signUpErrorMessage,sendLoginToApi:sendLoginToApi,sendSignupToApi:sendSignupToApi})}),/*#__PURE__*/_jsx(Route,{path:\"/previews\",element:/*#__PURE__*/_jsx(Preview,{date:date})}),/*#__PURE__*/_jsx(Route,{path:\"/day\",element:/*#__PURE__*/_jsx(Day,{date:date})}),/*#__PURE__*/_jsx(Route,{path:\"/treatments/:treatmentId\",element:/*#__PURE__*/_jsx(Details,{})}),/*#__PURE__*/_jsx(Route,{path:\"/week\",element:/*#__PURE__*/_jsx(Week,{date:date})}),/*#__PURE__*/_jsx(Route,{path:\"/month\",element:/*#__PURE__*/_jsx(Month,{date:date,handleDate:handleDate})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(Landing,{})})]})})});}export default App;","map":{"version":3,"names":["Routes","Route","useNavigate","useState","ls","Login","Landing","Preview","Day","Week","Month","Details","apiDoctor","getFormatedDate","App","navigate","date","setDate","doctorId","setDoctorId","loginErrorMessage","setLoginErrorMessage","signUpErrorMessage","setSignUpErrorMessage","sendLoginToApi","loginData","doctor","get","then","response","success","set","errorMessage","sendSignupToApi","signUpData","sendSingUpToApi","handleDate","value","handleAllTreatments","data","key"],"sources":["/Users/vir/proyectos-personales/e-schedule/web/src/components/App.js"],"sourcesContent":["import '../styles/App.scss';\nimport {Routes, Route, useNavigate} from 'react-router-dom';\nimport { useState} from 'react';\nimport ls from '../services/localstorage';\nimport Login from './Login';\nimport Landing from './Landing';\nimport Preview from './Preview';\nimport Day from './Day';\nimport Week from './Week';\nimport Month from './Month';\nimport Details from './Details';\n\n//services\nimport apiDoctor from '../services/api-doctor';\n\nimport { getFormatedDate } from '../utils/utils';\n\nfunction App() {\n  const navigate = useNavigate();\n  // VARIABLES ESTADO\n  const [date, setDate] = useState(getFormatedDate());\n  const [doctorId, setDoctorId] = useState('');\n \n  //login\n  const [loginErrorMessage, setLoginErrorMessage] = useState('');\n   //sign up\n   const [signUpErrorMessage, setSignUpErrorMessage] = useState('');\n\n  // USEEFFECT ?\n  const sendLoginToApi = loginData =>{\n    setLoginErrorMessage('');\n    const doctor =ls.get('doctor');\n    if (!doctor){\n      apiDoctor.sendLoginToApi(loginData).then(response =>{\n        if (response.success ===true){\n          setDoctorId (response);\n          ls.set('doctor',response);  \n          navigate('/previews');\n        }else {\n          setLoginErrorMessage(response.errorMessage);\n        }\n      });\n    }else {\n      setDoctorId (doctor.doctorId);\n      navigate('/previews');\n    }\n  };\n\n  const sendSignupToApi = signUpData =>{\n    setLoginErrorMessage('');\n    apiDoctor.sendSingUpToApi(signUpData).then(response =>{\n      if (response.success ===true){\n        setDoctorId (response.doctorId);\n        \n        navigate('/previews');\n      }else {\n        setSignUpErrorMessage(response.errorMessage);\n      }\n    });\n  };\n\n\n  // FUNCIONES HANDLER\n\n  const handleDate=(value)=>{\n    setDate(value)\n  };\n\n  const handleAllTreatments = data => {\n    if (data.key === 'doctor') {\n      setDoctorId(data.value);\n    } else if (data.key === 'date') {\n      setDate(data.value);\n    }\n  };\n\n \n\n  // FUNCIONES Y VARIABLES QUE AYUDEN A RENDERIZAR HTML\n\n  // HTML EN EL RETURN\n\n  return (\n    <div className=\"app\">\n        <main>\n          <Routes>\n            \n            <Route\n              path='/login'\n              element= {\n                <Login loginErrorMessage={loginErrorMessage} signUpErrorMessage={signUpErrorMessage} sendLoginToApi={sendLoginToApi} sendSignupToApi={sendSignupToApi}/>\n              }\n            />\n            <Route\n              path='/previews'\n              element= {\n                <Preview date={date}/>\n              }\n            />\n            <Route\n              path='/day'\n              element= {\n                <Day date={date}/>\n              }\n            />\n             <Route\n              path='/treatments/:treatmentId'\n              element= {\n                <Details />\n              }\n            />\n            <Route\n              path='/week'\n              element= {\n                <Week date={date}/>\n              }\n            />\n            <Route\n              path='/month'\n              element= {\n                <Month\n                  date = {date}\n                  handleDate = {handleDate}\n                />\n              }\n            />\n            <Route exact path='/'\n              element= {\n                <Landing/>\n              }\n            />\n          </Routes>\n        </main>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}